{
  "id" : "1758b2ec-4754-4be7-aa79-b5e08062f3fa",
  "name" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
  "enabled" : true,
  "tasks" : [ {
    "id" : "3a220c1d-1a57-4dd8-9740-a3213cfb2a81",
    "ordinal" : 1,
    "taskParameters" : [ {
      "id" : "25d59614-169c-4f26-873c-e61a50ddddbc",
      "ordinal" : 1,
      "value" : "!{ftpuser}",
      "desc" : "User to login to ftp",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "4f75fa01-c582-49aa-8f20-1b48462a8b28"
    }, {
      "id" : "75871c99-2c90-4ac0-aca2-fe7037a9126f",
      "ordinal" : 2,
      "value" : "Mu+KttQ5jSnVA9I9kN9ebw==",
      "desc" : "Password to login to ftp",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "48fbf631-e014-45ee-a8eb-298ac7d1fa21"
    }, {
      "id" : "2e69e440-ffc2-4168-9733-97c2cce2dd6c",
      "ordinal" : 3,
      "value" : "!{ftpurl}/input/S810_ITEM_WEB-pipe.REP",
      "desc" : "Url to file",
      "name" : "url",
      "valueType" : 0,
      "secret" : false,
      "refId" : "45c250b3-72b5-4d81-a392-6ab7c6f5709d"
    }, {
      "id" : "11ddda8c-f60f-4b14-8c7c-771184791da0",
      "ordinal" : 4,
      "value" : "AptosCatalogFile",
      "desc" : "Key name of output file",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "201b77ea-8e35-4c3c-9f45-dd8afc123e10"
    } ],
    "job" : {
      "id" : "1758b2ec-4754-4be7-aa79-b5e08062f3fa",
      "name" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "enabled" : true,
      "desc" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "status" : "READY",
      "snsARN" : "arn:aws:sns:us-east-1:194810246581:Ignition_Job_8ace2769-b753-4a54-a108-e005439d3717",
      "key" : "IC-00000011",
      "environment" : "STAGING"
    },
    "name" : "Download File to Map Task",
    "key" : "Core::DownloadFileToMapTask",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.DownloadFileToMapTask",
    "enabled" : true,
    "desc" : "Task used to download a file from FTP,SFTP,FTPS,Local and S3.",
    "refId" : "84211b05-40ce-4939-874d-825b983c3bda",
    "clazzType" : "Java",
    "childTasks" : [ ],
    "hasSubTask" : false,
    "stopOnError" : true,
    "reportOnError" : true
  }, {
    "id" : "3690f54e-1057-4a0f-a68f-1e95c9b7bd4f",
    "ordinal" : 2,
    "taskParameters" : [ {
      "id" : "6938eb03-8d43-4570-b846-2ce1c03dfc06",
      "ordinal" : 1,
      "value" : "AptosCatalogFile",
      "desc" : "Key name of input file\n",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "33b71961-09fb-4f69-9df8-46721a14b8a4"
    }, {
      "id" : "d023389a-e301-41ef-b158-4cbab95a97f6",
      "ordinal" : 2,
      "value" : "AptosCatalogMap",
      "desc" : "Key name to hold return value in dictionary",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "f1628808-0116-4d32-bff0-af0cb53d06b2"
    }, {
      "id" : "6244ae68-f49b-4fa8-9b14-d76b104f68da",
      "ordinal" : 4,
      "value" : "/Products/Product",
      "desc" : "Node to Break the row on",
      "name" : "rowIndicator",
      "valueType" : 0,
      "secret" : false,
      "refId" : "be88cc2e-5ba9-4277-a484-1d8146b78565"
    } ],
    "job" : {
      "id" : "1758b2ec-4754-4be7-aa79-b5e08062f3fa",
      "name" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "enabled" : true,
      "desc" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "status" : "READY",
      "snsARN" : "arn:aws:sns:us-east-1:194810246581:Ignition_Job_8ace2769-b753-4a54-a108-e005439d3717",
      "key" : "IC-00000011",
      "environment" : "STAGING"
    },
    "name" : "XML to Map Task",
    "key" : "Core::XmlToMapTask",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.XmlToMapTask",
    "enabled" : false,
    "desc" : "Task used to read xml file into the dictionary",
    "refId" : "4ca3d6e5-23fc-4d6a-beb2-09f0c9a5c2f3",
    "clazzType" : "Java",
    "childTasks" : [ ],
    "hasSubTask" : false,
    "stopOnError" : true,
    "reportOnError" : true
  }, {
    "id" : "5fbad875-1cc9-401b-9511-e749eccc8bf0",
    "ordinal" : 3,
    "taskParameters" : [ {
      "id" : "acaa26bf-49cb-4080-8b65-25e3124b6e66",
      "ordinal" : 1,
      "value" : "2",
      "desc" : "Row to start on (1 based)",
      "name" : "rowStart",
      "valueType" : 0,
      "secret" : false,
      "refId" : "47724df6-66a7-4b27-8322-5e98e9886e0b"
    }, {
      "id" : "23bca5f4-dedd-414f-b9dc-aeae53cea3af",
      "ordinal" : 2,
      "value" : "CatalogMap",
      "desc" : "Key name to hold return value in dictionary",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "043408c6-e4f7-45bc-b822-6c09b752000c"
    }, {
      "id" : "1e56148a-5e0f-4bd2-991e-800ee301faee",
      "ordinal" : 3,
      "value" : "AptosCatalogFile",
      "desc" : "Key name of input File",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "56ec030a-8897-4990-a140-29ee0a2dfbe7"
    }, {
      "id" : "05f8894b-a172-4daf-af6d-910899cd6383",
      "ordinal" : 4,
      "value" : "|",
      "desc" : "Column Separator",
      "name" : "separator",
      "valueType" : 0,
      "secret" : false,
      "refId" : "9817070a-8eae-4091-b938-9d112f39b6fb"
    } ],
    "job" : {
      "id" : "1758b2ec-4754-4be7-aa79-b5e08062f3fa",
      "name" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "enabled" : true,
      "desc" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "status" : "READY",
      "snsARN" : "arn:aws:sns:us-east-1:194810246581:Ignition_Job_8ace2769-b753-4a54-a108-e005439d3717",
      "key" : "IC-00000011",
      "environment" : "STAGING"
    },
    "name" : "CSV to Map Task",
    "key" : "Core::CSVToMapTask",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.CSVToMapTask",
    "enabled" : true,
    "desc" : "Task used to read a csv file into a dictionary",
    "refId" : "192f4f05-bf1c-4b52-ba40-3d474aa46356",
    "clazzType" : "Java",
    "childTasks" : [ ],
    "hasSubTask" : false,
    "stopOnError" : true,
    "reportOnError" : true
  }, {
    "id" : "165a3357-ad5b-48db-8fbb-af8ed11dd7ee",
    "ordinal" : 4,
    "taskParameters" : [ {
      "id" : "0d7d623d-571c-4b30-814d-202b60c53a62",
      "ordinal" : 1,
      "value" : "load('!{ThisHost}/js/global.js');\nvar root = new java.util.HashMap();\nvar mifIterator = new com.ignitioncommerce.transform.util.MapInFileIterator(dict.get('CatalogMap'));\nvar catalogRecords = new java.util.ArrayList();\n\nwhile (mifIterator.hasNext()) {\n\tvar catalogItem = mifIterator.next();\t\n\n\tif (catalogItem[0] == 'I') {\n\t\tcatalogRecord = new java.util.HashMap();\n\t\t\n\t\tcatalogRecord.put(\"itemNumber\",catalogItem[6]);\n\t\tcatalogRecord.put(\"productName\",catalogItem[2]);\n\t\tcatalogRecord.put(\"price\",catalogItem[4]);\n\t\tcatalogRecord.put(\"dimension1\",catalogItem[8]);\n\t\tcatalogRecord.put(\"dimension2\",catalogItem[9]);\n\t\tcatalogRecord.put(\"width\",catalogItem[10]);\n\t\tcatalogRecord.put(\"upcCode\",catalogItem[11]);\n\t\tcatalogRecord.put(\"imagery\",catalogItem[17]);\n\t\tif (catalogItem[25] == null) {\n\t\t\tcatalogRecord.put(\"shortDescription\",\"\");\n\t\t} else {\n\t\t\tcatalogRecord.put(\"shortDescription\",catalogItem[25]);\n\t\t}\n\t\tcatalogRecord.put(\"productNumber\",catalogItem[1]);\n\t\t\n\t\tcatalogRecords.add(catalogRecord);\n\t}\n}\n\nroot.put('PreProcessed', catalogRecords);\ndict.put('Root', root);",
      "desc" : "Script to execute",
      "name" : "script",
      "valueType" : 2,
      "secret" : false,
      "refId" : "61734d1c-1ff6-4a2b-a251-00f3bd76b9ed"
    } ],
    "job" : {
      "id" : "1758b2ec-4754-4be7-aa79-b5e08062f3fa",
      "name" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "enabled" : true,
      "desc" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "status" : "READY",
      "snsARN" : "arn:aws:sns:us-east-1:194810246581:Ignition_Job_8ace2769-b753-4a54-a108-e005439d3717",
      "key" : "IC-00000011",
      "environment" : "STAGING"
    },
    "name" : "Script Task",
    "key" : "Core::ScriptTask",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.ScriptTask",
    "enabled" : true,
    "desc" : "Task used to execute custom javascript",
    "refId" : "f5d44f40-cbd4-45fa-b45f-b062e546ad0f",
    "clazzType" : "Java",
    "childTasks" : [ ],
    "hasSubTask" : false,
    "stopOnError" : true,
    "reportOnError" : true
  }, {
    "id" : "94a690a3-749a-4029-90bc-d38f0117ccd9",
    "ordinal" : 5,
    "taskParameters" : [ {
      "id" : "148230e6-da6d-4f69-b7fb-20688d6ba94d",
      "ordinal" : 1,
      "value" : "Root",
      "desc" : "Key name of input ",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "e2963db8-9c7d-4863-b1ec-7a1bf15dbd52"
    }, {
      "id" : "989e1f2b-339f-4ff2-9c14-7a59cf728cd1",
      "ordinal" : 2,
      "value" : "<#compress>\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<catalog xmlns=\"http://www.demandware.com/xml/impex/catalog/2006-10-31\" catalog-id=\"product-catalog\">\n  <#list PreProcessed as item>\n\t\t<product product-id=\"${item.productNumber}\">\n\t\t<min-order-quantity>1</min-order-quantity>\n\t\t<step-quantity>1</step-quantity>\n\t\t<display-name>${item.productName}</display-name>\n\n\t\t<long-description>${item.shortDescription}</long-description>\n\n\t\t<online-flag>true</online-flag>\n\t\t<available-flag>true</available-flag>\n\t\t<searchable-flag>true</searchable-flag>\n\n\n\t\t<images>\n\t\t\t<image-group view-type=\"hi-res\">\n\t\t\t\t<image path=\"${item.productName}\"/>\n\t\t\t</image-group>\n\t\t\t<image-group variation-value=\"${item.dimension2}\" view-type=\"hi-res\">\n\t\t\t\t<image path=\"${item.productName}\"/>\n\t\t\t</image-group>\n\t\t\t<image-group variation-value=\"${item.dimension2}\" view-type=\"swatch\">\n\t\t\t\t<image path=\"colors/pms${item.dimension2}_big.jpg\"/>\n\t\t\t</image-group>\n\t\t</images>\n\t\t<thumbnail>\n\t\t</thumbnail>\n\t\t<template>\n\t\t</template>\n\t\t<tax-class-id>Standard</tax-class-id>\n\t\t<brand>Samsonite</brand>\n\t\t<manufacturer-name>Samsonite</manufacturer-name>\n\t\t<manufacturer-sku>${item.productNumber}</manufacturer-sku>\n\t\t<sitemap-included-flag>true</sitemap-included-flag>\n\t\t<sitemap-changefrequency>never</sitemap-changefrequency>\n\t\t<sitemap-priority>1.0</sitemap-priority>\n\t\t<page-attributes>\n\t\t\t<page-title>${item.productName}</page-title>\n\t\t</page-attributes>\n\t\t<custom-attributes>\n\t\t\t<custom-attribute attribute-id=\"collection\">Samsonite</custom-attribute>\n\t\t\t<#if item.shortDescription??>\n\t\t\t<custom-attribute attribute-id=\"description-text-1\">${item.shortDescription}</custom-attribute>\n\t\t\t</#if>\n\t\t\t<custom-attribute attribute-id=\"size\">${item.dimension1}</custom-attribute>\n<custom-attribute attribute-id=\"gender\">\n<value>mens</value>\n<value>unisex-adult</value>\n</custom-attribute>\n<custom-attribute attribute-id=\"bulletpoints\">&lt;ul&gt;&lt;li&gt;Hardside (ABS) - Luggage is made from a vacuum-formed or pressure-formed shell. Strong ABS plastic, a temperature-resistant, highly impact-resistant material, is combined with a textured finish for the classic hardside look.&lt;/li&gt;&lt;li&gt;Molded carry handle - Offers the most durable option for lifting the case with ease, or for carrying it by hand when rolling isn't an option.&lt;/li&gt;&lt;li&gt;Interior organizer - Offer areas to store writing instruments, cellular phones, PDA's and other business accessories.&lt;/li&gt;&lt;/ul&gt;</custom-attribute>\n\t\t\t<custom-attribute attribute-id=\"isSale\">false</custom-attribute>\n\t\t</custom-attributes>\n\t\t<variations>\n\t\t\t<attributes>\n\t\t\t\t<variation-attribute variation-attribute-id=\"color\" attribute-id=\"color\">\n\t\t\t\t\t<variation-attribute-values>\n\t\t\t\t\t\t<variation-attribute-value value=\"${item.dimension2}\">\n\t\t\t\t\t\t\t<display-value>${item.dimension2}</display-value>\n\t\t\t\t\t\t</variation-attribute-value>\n\t\t\t\t\t</variation-attribute-values>\n\t\t\t\t</variation-attribute>\n\t\t\t</attributes>\n\t\t\t<variants>\n\t\t\t\t<variant product-id=\"105581041\"/>\n\t\t\t</variants>\n\t\t</variations>\n\t</product>\n  </#list>\n</#compress>\n</catalog>",
      "desc" : "Template to use",
      "name" : "template",
      "valueType" : 2,
      "secret" : false,
      "refId" : "ed2bc33b-2474-4c9f-a7bb-80183abe53cf"
    }, {
      "id" : "767d518b-0409-4649-b3e7-13b95687445a",
      "ordinal" : 3,
      "value" : "CatalogFile",
      "desc" : "Key name of output ",
      "name" : "outputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "be1f40ef-6389-4aa3-9124-4231b715107a"
    } ],
    "job" : {
      "id" : "1758b2ec-4754-4be7-aa79-b5e08062f3fa",
      "name" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "enabled" : true,
      "desc" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "status" : "READY",
      "snsARN" : "arn:aws:sns:us-east-1:194810246581:Ignition_Job_8ace2769-b753-4a54-a108-e005439d3717",
      "key" : "IC-00000011",
      "environment" : "STAGING"
    },
    "name" : "Freemarker Execute Task",
    "key" : "Core::FreemarkerExecuteTask",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.FreemarkerExecuteTask",
    "enabled" : true,
    "desc" : "Task used to execute Freemarker template.",
    "refId" : "edb872f0-243b-46ea-9149-ca967fe766e7",
    "clazzType" : "Java",
    "childTasks" : [ ],
    "hasSubTask" : false,
    "stopOnError" : true,
    "reportOnError" : true
  }, {
    "id" : "6ae5854d-57e7-4de6-9d74-46ee8225cbf0",
    "ordinal" : 6,
    "taskParameters" : [ {
      "id" : "89c048e3-d884-418e-ab5f-6c163df1273a",
      "ordinal" : 1,
      "value" : "CCCatalogFile",
      "desc" : "Left Hand Parameter (left of equal)",
      "name" : "leftParam",
      "valueType" : 0,
      "secret" : false,
      "refId" : "872220ae-b87f-4ee4-8f74-b818960e521f"
    }, {
      "id" : "34b81c7c-4f79-4134-a574-2fbc8c819c7a",
      "ordinal" : 2,
      "value" : "${ var sdf = new java.text.SimpleDateFormat(\"yyyyMMdd'_'HHmmss\"); \"aptos-catalog-\" + sdf.format(new java.util.Date()) + \".xml\"; }",
      "desc" : "Right Hand Parameter (right of equal)  Can contain ${} that contains javascript",
      "name" : "rightParam",
      "valueType" : 2,
      "secret" : false,
      "refId" : "983f881a-9f10-43cc-9850-e913d2ad530a"
    } ],
    "job" : {
      "id" : "1758b2ec-4754-4be7-aa79-b5e08062f3fa",
      "name" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "enabled" : true,
      "desc" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "status" : "READY",
      "snsARN" : "arn:aws:sns:us-east-1:194810246581:Ignition_Job_8ace2769-b753-4a54-a108-e005439d3717",
      "key" : "IC-00000011",
      "environment" : "STAGING"
    },
    "name" : "Assign Task",
    "key" : "Core::AssignTask",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.AssignTask",
    "enabled" : true,
    "desc" : "Task used to Assign one key to another in the parameter dictionary",
    "refId" : "f749f807-bc45-4213-8db8-e66a8f263f44",
    "clazzType" : "Java",
    "childTasks" : [ ],
    "hasSubTask" : false,
    "stopOnError" : true,
    "reportOnError" : true
  }, {
    "id" : "2410c79a-6815-4996-aaad-4c848f1f2e6f",
    "ordinal" : 7,
    "taskParameters" : [ {
      "id" : "f2772120-0007-4a11-ba89-a9900120b839",
      "ordinal" : 1,
      "value" : "!{ftpuser}",
      "desc" : "User to login to ftp",
      "name" : "user",
      "valueType" : 0,
      "secret" : false,
      "refId" : "a68a11c6-cef6-4408-85f5-4f0728e8e3c7"
    }, {
      "id" : "08829802-e76a-418c-af1e-d88ec5963850",
      "ordinal" : 2,
      "value" : "Mu+KttQ5jSnVA9I9kN9ebw==",
      "desc" : "Password to login to ftp",
      "name" : "password",
      "valueType" : 0,
      "secret" : true,
      "refId" : "a34fea04-c5b1-442c-975e-1655184f32f3"
    }, {
      "id" : "02bf264f-da7a-43cf-9db4-4dca7fb15936",
      "ordinal" : 3,
      "value" : "!{ftpurl}/output/${CCCatalogFile}",
      "desc" : "Url to file",
      "name" : "url",
      "valueType" : 0,
      "secret" : false,
      "refId" : "b102d706-66ce-4d8b-8944-ec8ba327b7b2"
    }, {
      "id" : "1d9380c1-c2f6-4c59-922f-eab54262eaf6",
      "ordinal" : 4,
      "value" : "CatalogFile",
      "desc" : "Key name of input file",
      "name" : "inputKey",
      "valueType" : 0,
      "secret" : false,
      "refId" : "06532b8a-daf2-457c-8c65-701e9cc0ec01"
    } ],
    "job" : {
      "id" : "1758b2ec-4754-4be7-aa79-b5e08062f3fa",
      "name" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "enabled" : true,
      "desc" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
      "status" : "READY",
      "snsARN" : "arn:aws:sns:us-east-1:194810246581:Ignition_Job_8ace2769-b753-4a54-a108-e005439d3717",
      "key" : "IC-00000011",
      "environment" : "STAGING"
    },
    "name" : "Upload File from Map",
    "key" : "Core::UploadFileFromMapTask",
    "clazz" : "com.ignitioncommerce.transform.tasks.core.UploadFileFromMapTask",
    "enabled" : true,
    "desc" : "Task used to upload a file to ftp, sftp, ftps, local or webdav from a map.",
    "refId" : "fb285dc7-59db-4382-b004-df6ee6147084",
    "clazzType" : "Java",
    "childTasks" : [ ],
    "hasSubTask" : false,
    "stopOnError" : true,
    "reportOnError" : true
  } ],
  "desc" : "Samsonite - Aptos to Salesforce Commerce Catalog XML",
  "status" : "READY",
  "snsARN" : "arn:aws:sns:us-east-1:194810246581:Ignition_Job_8ace2769-b753-4a54-a108-e005439d3717",
  "key" : "IC-00000011",
  "environment" : "STAGING"
}